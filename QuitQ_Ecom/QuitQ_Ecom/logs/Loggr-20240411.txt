2024-04-11 11:25:28.593 +05:30 [INF] User profile is available. Using 'C:\Users\mirza\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-11 11:25:31.261 +05:30 [INF] Now listening on: https://localhost:7036
2024-04-11 11:25:31.263 +05:30 [INF] Now listening on: http://localhost:5228
2024-04-11 11:25:31.267 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-04-11 11:25:31.269 +05:30 [INF] Hosting environment: Development
2024-04-11 11:25:31.270 +05:30 [INF] Content root path: C:\Users\mirza\Downloads\QuitQ_Ecom_I\QuitQ_Ecom\QuitQ_Ecom\
2024-04-11 11:25:33.862 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/swagger/index.html - -
2024-04-11 11:25:34.695 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/swagger/index.html - - - 200 - text/html;charset=utf-8 841.4773ms
2024-04-11 11:25:34.703 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - -
2024-04-11 11:25:34.713 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 9.6759ms
2024-04-11 11:25:34.745 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/_vs/browserLink - -
2024-04-11 11:25:34.943 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 197.5938ms
2024-04-11 11:25:35.398 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - -
2024-04-11 11:25:35.689 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 290.1407ms
2024-04-11 11:32:11.504 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/brands - -
2024-04-11 11:32:12.070 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.BrandsController.GetAllBrands (QuitQ_Ecom)'
2024-04-11 11:32:12.160 +05:30 [INF] Route matched with {action = "GetAllBrands", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBrands() on controller QuitQ_Ecom.Controllers.BrandsController (QuitQ_Ecom).
2024-04-11 11:32:14.778 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 11:32:17.554 +05:30 [INF] Executed DbCommand (744ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[BrandLogo], [b].[BrandName]
FROM [Brands] AS [b]
2024-04-11 11:32:17.850 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuitQ_Ecom.DTOs.BrandDTO, QuitQ_Ecom, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-11 11:32:17.878 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.BrandsController.GetAllBrands (QuitQ_Ecom) in 5709.1801ms
2024-04-11 11:32:17.889 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.BrandsController.GetAllBrands (QuitQ_Ecom)'
2024-04-11 11:32:17.903 +05:30 [INF] HTTP GET /api/brands responded 200 in 6385.9880 ms
2024-04-11 11:32:17.939 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/brands - - - 200 - application/json;+charset=utf-8 6435.0107ms
2024-04-11 11:32:34.285 +05:30 [INF] Request starting HTTP/2 DELETE https://localhost:7036/api/brands/6 - -
2024-04-11 11:32:34.319 +05:30 [INF] CORS policy execution successful.
2024-04-11 11:32:34.340 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (seller|admin)
2024-04-11 11:32:34.357 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-11 11:32:34.359 +05:30 [INF] HTTP DELETE /api/brands/6 responded 401 in 67.7742 ms
2024-04-11 11:32:34.366 +05:30 [INF] Request finished HTTP/2 DELETE https://localhost:7036/api/brands/6 - - - 401 0 - 81.4224ms
2024-04-11 11:33:10.039 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7036/api/token/login application/json 51
2024-04-11 11:33:10.065 +05:30 [INF] CORS policy execution successful.
2024-04-11 11:33:10.069 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.TokenController.Post (QuitQ_Ecom)'
2024-04-11 11:33:10.101 +05:30 [INF] Route matched with {action = "Post", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(QuitQ_Ecom.DTOs.LoginDTO) on controller QuitQ_Ecom.Controllers.TokenController (QuitQ_Ecom).
2024-04-11 11:33:10.305 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 11:33:11.074 +05:30 [INF] Executed DbCommand (293ms) [Parameters=[@__8__locals1_username_0='?' (Size = 100) (DbType = AnsiString), @__hashedpassword_1='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[ContactNumber], [u].[Dob], [u].[Email], [u].[FirstName], [u].[GenderId], [u].[LastName], [u].[Password], [u].[UserStatusId], [u].[UserTypeId], [u].[Username]
FROM [Users] AS [u]
WHERE ([u].[Username] = @__8__locals1_username_0) AND ([u].[Password] = @__hashedpassword_1)
2024-04-11 11:33:11.213 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__UsertypeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserType]
FROM [UserType] AS [u]
WHERE [u].[UserTypeId] = @__UsertypeId_0
2024-04-11 11:33:11.745 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-04-11 11:33:11.748 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.TokenController.Post (QuitQ_Ecom) in 1645.0877ms
2024-04-11 11:33:11.750 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.TokenController.Post (QuitQ_Ecom)'
2024-04-11 11:33:11.752 +05:30 [INF] HTTP POST /api/token/login responded 200 in 1699.6325 ms
2024-04-11 11:33:11.754 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7036/api/token/login application/json 51 - 200 - text/plain;+charset=utf-8 1715.0666ms
2024-04-11 11:33:38.900 +05:30 [INF] Request starting HTTP/2 DELETE https://localhost:7036/api/brands/6 - -
2024-04-11 11:33:38.912 +05:30 [INF] CORS policy execution successful.
2024-04-11 11:33:39.122 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (seller|admin)
2024-04-11 11:33:39.129 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2024-04-11 11:33:39.132 +05:30 [INF] HTTP DELETE /api/brands/6 responded 403 in 219.8460 ms
2024-04-11 11:33:39.137 +05:30 [INF] Request finished HTTP/2 DELETE https://localhost:7036/api/brands/6 - - - 403 0 - 237.1892ms
2024-04-11 11:34:14.476 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7036/api/token/login application/json 56
2024-04-11 11:34:14.480 +05:30 [INF] CORS policy execution successful.
2024-04-11 11:34:14.481 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.TokenController.Post (QuitQ_Ecom)'
2024-04-11 11:34:14.484 +05:30 [INF] Route matched with {action = "Post", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(QuitQ_Ecom.DTOs.LoginDTO) on controller QuitQ_Ecom.Controllers.TokenController (QuitQ_Ecom).
2024-04-11 11:34:14.550 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 11:34:14.599 +05:30 [INF] Executed DbCommand (35ms) [Parameters=[@__8__locals1_username_0='?' (Size = 100) (DbType = AnsiString), @__hashedpassword_1='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[ContactNumber], [u].[Dob], [u].[Email], [u].[FirstName], [u].[GenderId], [u].[LastName], [u].[Password], [u].[UserStatusId], [u].[UserTypeId], [u].[Username]
FROM [Users] AS [u]
WHERE ([u].[Username] = @__8__locals1_username_0) AND ([u].[Password] = @__hashedpassword_1)
2024-04-11 11:34:14.614 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__UsertypeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserType]
FROM [UserType] AS [u]
WHERE [u].[UserTypeId] = @__UsertypeId_0
2024-04-11 11:34:14.619 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-04-11 11:34:14.620 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.TokenController.Post (QuitQ_Ecom) in 131.1521ms
2024-04-11 11:34:14.622 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.TokenController.Post (QuitQ_Ecom)'
2024-04-11 11:34:14.623 +05:30 [INF] HTTP POST /api/token/login responded 200 in 143.3382 ms
2024-04-11 11:34:14.626 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7036/api/token/login application/json 56 - 200 - text/plain;+charset=utf-8 149.9503ms
2024-04-11 11:34:41.004 +05:30 [INF] Request starting HTTP/2 DELETE https://localhost:7036/api/brands/6 - -
2024-04-11 11:34:41.006 +05:30 [INF] CORS policy execution successful.
2024-04-11 11:34:41.010 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.BrandsController.DeleteBrand (QuitQ_Ecom)'
2024-04-11 11:34:41.027 +05:30 [INF] Route matched with {action = "DeleteBrand", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteBrand(Int32) on controller QuitQ_Ecom.Controllers.BrandsController (QuitQ_Ecom).
2024-04-11 11:34:41.039 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 11:34:41.103 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BrandId], [b].[BrandLogo], [b].[BrandName]
FROM [Brands] AS [b]
WHERE [b].[BrandId] = @__p_0
2024-04-11 11:34:41.139 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__brandId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Price], [p].[ProductImage], [p].[ProductName], [p].[ProductStatusId], [p].[Quantity], [p].[StoreId], [p].[SubCategoryId]
FROM [Products] AS [p]
WHERE [p].[BrandId] = @__brandId_0
2024-04-11 11:34:42.469 +05:30 [ERR] Failed executing DbCommand (917ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Products]
WHERE [ProductId] = @p0;
SELECT @@ROWCOUNT;

DELETE FROM [Products]
WHERE [ProductId] = @p1;
SELECT @@ROWCOUNT;

DELETE FROM [Products]
WHERE [ProductId] = @p2;
SELECT @@ROWCOUNT;

DELETE FROM [Products]
WHERE [ProductId] = @p3;
SELECT @@ROWCOUNT;

DELETE FROM [Products]
WHERE [ProductId] = @p4;
SELECT @@ROWCOUNT;

DELETE FROM [Products]
WHERE [ProductId] = @p5;
SELECT @@ROWCOUNT;
2024-04-11 11:34:42.904 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'QuitQ_Ecom.Models.QuitQEcomContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK__Images__ProductI__6754599E". The conflict occurred in database "QuitQEcom", table "dbo.Images", column 'ProductId'.
The DELETE statement conflicted with the REFERENCE constraint "FK__ProductDe__Produ__6477ECF3". The conflict occurred in database "QuitQEcom", table "dbo.ProductDetails", column 'ProductId'.
The DELETE statement conflicted with the REFERENCE constraint "FK__Images__ProductI__6754599E". The conflict occurred in database "QuitQEcom", table "dbo.Images", column 'ProductId'.
The statement has been terminated.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:93e530df-dfcf-40e1-b22d-34c2a252b562
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK__Images__ProductI__6754599E". The conflict occurred in database "QuitQEcom", table "dbo.Images", column 'ProductId'.
The DELETE statement conflicted with the REFERENCE constraint "FK__ProductDe__Produ__6477ECF3". The conflict occurred in database "QuitQEcom", table "dbo.ProductDetails", column 'ProductId'.
The DELETE statement conflicted with the REFERENCE constraint "FK__Images__ProductI__6754599E". The conflict occurred in database "QuitQEcom", table "dbo.Images", column 'ProductId'.
The statement has been terminated.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:93e530df-dfcf-40e1-b22d-34c2a252b562
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-04-11 11:34:43.185 +05:30 [ERR] Error occurred while deleting brand with ID 6: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK__Images__ProductI__6754599E". The conflict occurred in database "QuitQEcom", table "dbo.Images", column 'ProductId'.
The DELETE statement conflicted with the REFERENCE constraint "FK__ProductDe__Produ__6477ECF3". The conflict occurred in database "QuitQEcom", table "dbo.ProductDetails", column 'ProductId'.
The DELETE statement conflicted with the REFERENCE constraint "FK__Images__ProductI__6754599E". The conflict occurred in database "QuitQEcom", table "dbo.Images", column 'ProductId'.
The statement has been terminated.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:93e530df-dfcf-40e1-b22d-34c2a252b562
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BrandRepositoryImpl.DeleteBrand(Int32 brandId) in C:\Users\mirza\Downloads\QuitQ_Ecom_I\QuitQ_Ecom\QuitQ_Ecom\Repository\BrandRepositoryImpl.cs:line 53
2024-04-11 11:34:43.451 +05:30 [ERR] An error occurred while deleting the brand: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK__Images__ProductI__6754599E". The conflict occurred in database "QuitQEcom", table "dbo.Images", column 'ProductId'.
The DELETE statement conflicted with the REFERENCE constraint "FK__ProductDe__Produ__6477ECF3". The conflict occurred in database "QuitQEcom", table "dbo.ProductDetails", column 'ProductId'.
The DELETE statement conflicted with the REFERENCE constraint "FK__Images__ProductI__6754599E". The conflict occurred in database "QuitQEcom", table "dbo.Images", column 'ProductId'.
The statement has been terminated.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:93e530df-dfcf-40e1-b22d-34c2a252b562
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BrandRepositoryImpl.DeleteBrand(Int32 brandId) in C:\Users\mirza\Downloads\QuitQ_Ecom_I\QuitQ_Ecom\QuitQ_Ecom\Repository\BrandRepositoryImpl.cs:line 53
   at QuitQ_Ecom.Controllers.BrandsController.DeleteBrand(Int32 brandId) in C:\Users\mirza\Downloads\QuitQ_Ecom_I\QuitQ_Ecom\QuitQ_Ecom\Controllers\BrandsController.cs:line 141
2024-04-11 11:34:43.470 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-04-11 11:34:43.472 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.BrandsController.DeleteBrand (QuitQ_Ecom) in 2443.207ms
2024-04-11 11:34:43.473 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.BrandsController.DeleteBrand (QuitQ_Ecom)'
2024-04-11 11:34:43.476 +05:30 [INF] HTTP DELETE /api/brands/6 responded 400 in 2469.2145 ms
2024-04-11 11:34:43.478 +05:30 [INF] Request finished HTTP/2 DELETE https://localhost:7036/api/brands/6 - - - 400 - text/plain;+charset=utf-8 2473.6634ms
2024-04-11 11:35:00.463 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/brands - -
2024-04-11 11:35:00.467 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.BrandsController.GetAllBrands (QuitQ_Ecom)'
2024-04-11 11:35:00.472 +05:30 [INF] Route matched with {action = "GetAllBrands", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBrands() on controller QuitQ_Ecom.Controllers.BrandsController (QuitQ_Ecom).
2024-04-11 11:35:00.479 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 11:35:00.493 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[BrandLogo], [b].[BrandName]
FROM [Brands] AS [b]
2024-04-11 11:35:00.501 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuitQ_Ecom.DTOs.BrandDTO, QuitQ_Ecom, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-11 11:35:00.503 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.BrandsController.GetAllBrands (QuitQ_Ecom) in 27.6453ms
2024-04-11 11:35:00.504 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.BrandsController.GetAllBrands (QuitQ_Ecom)'
2024-04-11 11:35:00.505 +05:30 [INF] HTTP GET /api/brands responded 200 in 37.8828 ms
2024-04-11 11:35:00.510 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/brands - - - 200 - application/json;+charset=utf-8 46.3020ms
2024-04-11 11:35:06.712 +05:30 [INF] Request starting HTTP/2 DELETE https://localhost:7036/api/brands/6 - -
2024-04-11 11:35:06.721 +05:30 [INF] CORS policy execution successful.
2024-04-11 11:35:06.723 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.BrandsController.DeleteBrand (QuitQ_Ecom)'
2024-04-11 11:35:06.725 +05:30 [INF] Route matched with {action = "DeleteBrand", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteBrand(Int32) on controller QuitQ_Ecom.Controllers.BrandsController (QuitQ_Ecom).
2024-04-11 11:35:06.728 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 11:35:06.753 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BrandId], [b].[BrandLogo], [b].[BrandName]
FROM [Brands] AS [b]
WHERE [b].[BrandId] = @__p_0
2024-04-11 11:35:06.761 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__brandId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Price], [p].[ProductImage], [p].[ProductName], [p].[ProductStatusId], [p].[Quantity], [p].[StoreId], [p].[SubCategoryId]
FROM [Products] AS [p]
WHERE [p].[BrandId] = @__brandId_0
2024-04-11 11:35:06.848 +05:30 [ERR] Failed executing DbCommand (76ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Products]
WHERE [ProductId] = @p0;
SELECT @@ROWCOUNT;

DELETE FROM [Products]
WHERE [ProductId] = @p1;
SELECT @@ROWCOUNT;

DELETE FROM [Products]
WHERE [ProductId] = @p2;
SELECT @@ROWCOUNT;

DELETE FROM [Products]
WHERE [ProductId] = @p3;
SELECT @@ROWCOUNT;

DELETE FROM [Products]
WHERE [ProductId] = @p4;
SELECT @@ROWCOUNT;

DELETE FROM [Products]
WHERE [ProductId] = @p5;
SELECT @@ROWCOUNT;
2024-04-11 11:35:06.857 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'QuitQ_Ecom.Models.QuitQEcomContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK__Images__ProductI__6754599E". The conflict occurred in database "QuitQEcom", table "dbo.Images", column 'ProductId'.
The DELETE statement conflicted with the REFERENCE constraint "FK__ProductDe__Produ__6477ECF3". The conflict occurred in database "QuitQEcom", table "dbo.ProductDetails", column 'ProductId'.
The DELETE statement conflicted with the REFERENCE constraint "FK__Images__ProductI__6754599E". The conflict occurred in database "QuitQEcom", table "dbo.Images", column 'ProductId'.
The statement has been terminated.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:93e530df-dfcf-40e1-b22d-34c2a252b562
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK__Images__ProductI__6754599E". The conflict occurred in database "QuitQEcom", table "dbo.Images", column 'ProductId'.
The DELETE statement conflicted with the REFERENCE constraint "FK__ProductDe__Produ__6477ECF3". The conflict occurred in database "QuitQEcom", table "dbo.ProductDetails", column 'ProductId'.
The DELETE statement conflicted with the REFERENCE constraint "FK__Images__ProductI__6754599E". The conflict occurred in database "QuitQEcom", table "dbo.Images", column 'ProductId'.
The statement has been terminated.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:93e530df-dfcf-40e1-b22d-34c2a252b562
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-04-11 11:35:06.950 +05:30 [ERR] Error occurred while deleting brand with ID 6: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK__Images__ProductI__6754599E". The conflict occurred in database "QuitQEcom", table "dbo.Images", column 'ProductId'.
The DELETE statement conflicted with the REFERENCE constraint "FK__ProductDe__Produ__6477ECF3". The conflict occurred in database "QuitQEcom", table "dbo.ProductDetails", column 'ProductId'.
The DELETE statement conflicted with the REFERENCE constraint "FK__Images__ProductI__6754599E". The conflict occurred in database "QuitQEcom", table "dbo.Images", column 'ProductId'.
The statement has been terminated.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:93e530df-dfcf-40e1-b22d-34c2a252b562
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BrandRepositoryImpl.DeleteBrand(Int32 brandId) in C:\Users\mirza\Downloads\QuitQ_Ecom_I\QuitQ_Ecom\QuitQ_Ecom\Repository\BrandRepositoryImpl.cs:line 53
2024-04-11 11:35:07.110 +05:30 [ERR] An error occurred while deleting the brand: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK__Images__ProductI__6754599E". The conflict occurred in database "QuitQEcom", table "dbo.Images", column 'ProductId'.
The DELETE statement conflicted with the REFERENCE constraint "FK__ProductDe__Produ__6477ECF3". The conflict occurred in database "QuitQEcom", table "dbo.ProductDetails", column 'ProductId'.
The DELETE statement conflicted with the REFERENCE constraint "FK__Images__ProductI__6754599E". The conflict occurred in database "QuitQEcom", table "dbo.Images", column 'ProductId'.
The statement has been terminated.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:93e530df-dfcf-40e1-b22d-34c2a252b562
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BrandRepositoryImpl.DeleteBrand(Int32 brandId) in C:\Users\mirza\Downloads\QuitQ_Ecom_I\QuitQ_Ecom\QuitQ_Ecom\Repository\BrandRepositoryImpl.cs:line 53
   at QuitQ_Ecom.Controllers.BrandsController.DeleteBrand(Int32 brandId) in C:\Users\mirza\Downloads\QuitQ_Ecom_I\QuitQ_Ecom\QuitQ_Ecom\Controllers\BrandsController.cs:line 141
2024-04-11 11:35:07.128 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-04-11 11:35:07.131 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.BrandsController.DeleteBrand (QuitQ_Ecom) in 402.9055ms
2024-04-11 11:35:07.133 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.BrandsController.DeleteBrand (QuitQ_Ecom)'
2024-04-11 11:35:07.135 +05:30 [INF] HTTP DELETE /api/brands/6 responded 400 in 414.2184 ms
2024-04-11 11:35:07.137 +05:30 [INF] Request finished HTTP/2 DELETE https://localhost:7036/api/brands/6 - - - 400 - text/plain;+charset=utf-8 425.4871ms
2024-04-11 11:36:05.436 +05:30 [INF] Request starting HTTP/2 DELETE https://localhost:7036/api/brands/2 - -
2024-04-11 11:36:05.445 +05:30 [INF] CORS policy execution successful.
2024-04-11 11:36:05.446 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.BrandsController.DeleteBrand (QuitQ_Ecom)'
2024-04-11 11:36:05.447 +05:30 [INF] Route matched with {action = "DeleteBrand", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteBrand(Int32) on controller QuitQ_Ecom.Controllers.BrandsController (QuitQ_Ecom).
2024-04-11 11:36:08.274 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 11:36:08.298 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BrandId], [b].[BrandLogo], [b].[BrandName]
FROM [Brands] AS [b]
WHERE [b].[BrandId] = @__p_0
2024-04-11 11:36:08.312 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__brandId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Price], [p].[ProductImage], [p].[ProductName], [p].[ProductStatusId], [p].[Quantity], [p].[StoreId], [p].[SubCategoryId]
FROM [Products] AS [p]
WHERE [p].[BrandId] = @__brandId_0
2024-04-11 11:36:08.594 +05:30 [INF] Executed DbCommand (267ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Brands]
WHERE [BrandId] = @p0;
SELECT @@ROWCOUNT;
2024-04-11 11:36:08.649 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-04-11 11:36:08.653 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.BrandsController.DeleteBrand (QuitQ_Ecom) in 3202.818ms
2024-04-11 11:36:08.657 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.BrandsController.DeleteBrand (QuitQ_Ecom)'
2024-04-11 11:36:08.658 +05:30 [INF] HTTP DELETE /api/brands/2 responded 200 in 3213.7680 ms
2024-04-11 11:36:08.662 +05:30 [INF] Request finished HTTP/2 DELETE https://localhost:7036/api/brands/2 - - - 200 - text/plain;+charset=utf-8 3225.9054ms
2024-04-11 11:36:23.741 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/brands - -
2024-04-11 11:36:23.745 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.BrandsController.GetAllBrands (QuitQ_Ecom)'
2024-04-11 11:36:23.747 +05:30 [INF] Route matched with {action = "GetAllBrands", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBrands() on controller QuitQ_Ecom.Controllers.BrandsController (QuitQ_Ecom).
2024-04-11 11:36:23.759 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 11:36:23.779 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BrandId], [b].[BrandLogo], [b].[BrandName]
FROM [Brands] AS [b]
2024-04-11 11:36:23.783 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuitQ_Ecom.DTOs.BrandDTO, QuitQ_Ecom, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-11 11:36:23.785 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.BrandsController.GetAllBrands (QuitQ_Ecom) in 29.7064ms
2024-04-11 11:36:23.787 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.BrandsController.GetAllBrands (QuitQ_Ecom)'
2024-04-11 11:36:23.788 +05:30 [INF] HTTP GET /api/brands responded 200 in 45.2134 ms
2024-04-11 11:36:23.791 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/brands - - - 200 - application/json;+charset=utf-8 49.7985ms
2024-04-11 12:04:46.797 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/products/subcategories/1 - -
2024-04-11 12:04:46.839 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11-04-2024 06:14:14', Current time (UTC): '11-04-2024 06:34:46'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-04-11 12:04:46.848 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11-04-2024 06:14:14', Current time (UTC): '11-04-2024 06:34:46'.
2024-04-11 12:04:46.850 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.ProductsController.GetProductsBySubcategoryID (QuitQ_Ecom)'
2024-04-11 12:04:46.867 +05:30 [INF] Route matched with {action = "GetProductsBySubcategoryID", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsBySubcategoryID(Int32) on controller QuitQ_Ecom.Controllers.ProductsController (QuitQ_Ecom).
2024-04-11 12:04:46.895 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 12:04:47.061 +05:30 [INF] Executed DbCommand (30ms) [Parameters=[@__SubcategoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Price], [p].[ProductImage], [p].[ProductName], [p].[ProductStatusId], [p].[Quantity], [p].[StoreId], [p].[SubCategoryId], [p0].[ProductDetailId], [p0].[Attribute], [p0].[ProductId], [p0].[Value]
FROM [Products] AS [p]
LEFT JOIN [ProductDetails] AS [p0] ON [p].[ProductId] = [p0].[ProductId]
WHERE [p].[SubCategoryId] = @__SubcategoryId_0
ORDER BY [p].[ProductId]
2024-04-11 12:04:47.083 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuitQ_Ecom.DTOs.ProductDTO, QuitQ_Ecom, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-11 12:04:47.105 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.ProductsController.GetProductsBySubcategoryID (QuitQ_Ecom) in 235.295ms
2024-04-11 12:04:47.106 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.ProductsController.GetProductsBySubcategoryID (QuitQ_Ecom)'
2024-04-11 12:04:47.106 +05:30 [INF] HTTP GET /api/products/subcategories/1 responded 200 in 293.8277 ms
2024-04-11 12:04:47.107 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/products/subcategories/1 - - - 200 - application/json;+charset=utf-8 312.2177ms
2024-04-11 14:16:03.958 +05:30 [INF] User profile is available. Using 'C:\Users\mirza\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-11 14:16:06.614 +05:30 [INF] Now listening on: https://localhost:7036
2024-04-11 14:16:06.616 +05:30 [INF] Now listening on: http://localhost:5228
2024-04-11 14:16:06.622 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-04-11 14:16:06.624 +05:30 [INF] Hosting environment: Development
2024-04-11 14:16:06.626 +05:30 [INF] Content root path: C:\Users\mirza\Downloads\QuitQ_Ecom_I\QuitQ_Ecom\QuitQ_Ecom\
2024-04-11 14:16:10.692 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/swagger/index.html - -
2024-04-11 14:16:12.008 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/swagger/index.html - - - 200 - text/html;charset=utf-8 1326.7429ms
2024-04-11 14:16:12.019 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - -
2024-04-11 14:16:12.035 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 16.0068ms
2024-04-11 14:16:12.373 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/_vs/browserLink - -
2024-04-11 14:16:12.627 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 253.4177ms
2024-04-11 14:16:12.999 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - -
2024-04-11 14:16:13.550 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 550.3354ms
2024-04-11 14:19:38.525 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/cart/totalcost/2 - -
2024-04-11 14:19:38.600 +05:30 [INF] CORS policy execution successful.
2024-04-11 14:19:39.021 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-11 14:19:39.046 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-11 14:19:39.060 +05:30 [INF] HTTP GET /api/cart/totalcost/2 responded 401 in 477.9686 ms
2024-04-11 14:19:39.085 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/cart/totalcost/2 - - - 401 0 - 559.7327ms
2024-04-11 14:19:39.089 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/cart/totalcost/2 - -
2024-04-11 14:19:39.102 +05:30 [INF] CORS policy execution successful.
2024-04-11 14:19:39.107 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-11 14:19:39.110 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-11 14:19:39.112 +05:30 [INF] HTTP GET /api/cart/totalcost/2 responded 401 in 9.9845 ms
2024-04-11 14:19:39.116 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/cart/totalcost/2 - - - 401 0 - 26.5090ms
2024-04-11 14:22:02.332 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - -
2024-04-11 14:22:02.351 +05:30 [INF] CORS policy execution successful.
2024-04-11 14:22:02.354 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-11 14:22:02.357 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-11 14:22:02.361 +05:30 [INF] HTTP GET /api/payments/cartitems/2 responded 401 in 10.8018 ms
2024-04-11 14:22:02.364 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - - - 401 0 - 31.1166ms
2024-04-11 14:22:10.643 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - -
2024-04-11 14:22:10.653 +05:30 [INF] CORS policy execution successful.
2024-04-11 14:22:10.654 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-11 14:22:10.655 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-11 14:22:10.656 +05:30 [INF] HTTP GET /api/payments/cartitems/2 responded 401 in 2.5901 ms
2024-04-11 14:22:10.659 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - - - 401 0 - 16.0674ms
2024-04-11 14:22:10.674 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - -
2024-04-11 14:22:10.677 +05:30 [INF] CORS policy execution successful.
2024-04-11 14:22:10.679 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-11 14:22:10.680 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-11 14:22:10.681 +05:30 [INF] HTTP GET /api/payments/cartitems/2 responded 401 in 4.1900 ms
2024-04-11 14:22:10.684 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - - - 401 0 - 9.4292ms
2024-04-11 14:22:21.843 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - -
2024-04-11 14:22:21.853 +05:30 [INF] CORS policy execution successful.
2024-04-11 14:22:21.879 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-11 14:22:21.881 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-11 14:22:21.884 +05:30 [INF] HTTP GET /api/payments/cartitems/2 responded 401 in 31.0445 ms
2024-04-11 14:22:21.888 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - - - 401 0 - 44.6045ms
2024-04-11 14:22:21.891 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - -
2024-04-11 14:22:21.892 +05:30 [INF] CORS policy execution successful.
2024-04-11 14:22:21.894 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-11 14:22:21.895 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-11 14:22:21.896 +05:30 [INF] HTTP GET /api/payments/cartitems/2 responded 401 in 4.0765 ms
2024-04-11 14:22:21.900 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - - - 401 0 - 9.3103ms
2024-04-11 14:22:26.837 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - -
2024-04-11 14:22:26.840 +05:30 [INF] CORS policy execution successful.
2024-04-11 14:22:26.842 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-11 14:22:26.845 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-11 14:22:26.863 +05:30 [INF] HTTP GET /api/payments/cartitems/2 responded 401 in 23.0014 ms
2024-04-11 14:22:26.866 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - - - 401 0 - 28.5928ms
2024-04-11 14:22:26.883 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - -
2024-04-11 14:22:26.909 +05:30 [INF] CORS policy execution successful.
2024-04-11 14:22:26.923 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-11 14:22:26.925 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-11 14:22:26.927 +05:30 [INF] HTTP GET /api/payments/cartitems/2 responded 401 in 17.7813 ms
2024-04-11 14:22:26.929 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - - - 401 0 - 45.5931ms
2024-04-11 14:36:26.455 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7036/api/token/login application/json 56
2024-04-11 14:36:26.460 +05:30 [INF] CORS policy execution successful.
2024-04-11 14:36:26.512 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.TokenController.Post (QuitQ_Ecom)'
2024-04-11 14:36:26.800 +05:30 [INF] Route matched with {action = "Post", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(QuitQ_Ecom.DTOs.LoginDTO) on controller QuitQ_Ecom.Controllers.TokenController (QuitQ_Ecom).
2024-04-11 14:36:31.638 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 14:36:35.236 +05:30 [INF] Executed DbCommand (503ms) [Parameters=[@__8__locals1_username_0='?' (Size = 100) (DbType = AnsiString), @__hashedpassword_1='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[ContactNumber], [u].[Dob], [u].[Email], [u].[FirstName], [u].[GenderId], [u].[LastName], [u].[Password], [u].[UserStatusId], [u].[UserTypeId], [u].[Username]
FROM [Users] AS [u]
WHERE ([u].[Username] = @__8__locals1_username_0) AND ([u].[Password] = @__hashedpassword_1)
2024-04-11 14:36:35.730 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__UsertypeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserType]
FROM [UserType] AS [u]
WHERE [u].[UserTypeId] = @__UsertypeId_0
2024-04-11 14:36:36.604 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-04-11 14:36:36.655 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.TokenController.Post (QuitQ_Ecom) in 9811.1831ms
2024-04-11 14:36:36.662 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.TokenController.Post (QuitQ_Ecom)'
2024-04-11 14:36:36.675 +05:30 [INF] HTTP POST /api/token/login responded 200 in 10215.1640 ms
2024-04-11 14:36:36.711 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7036/api/token/login application/json 56 - 200 - text/plain;+charset=utf-8 10256.3545ms
2024-04-11 14:37:55.594 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7036/api/user-addresses application/json 234
2024-04-11 14:37:55.606 +05:30 [INF] CORS policy execution successful.
2024-04-11 14:37:55.874 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.UserAddressController.AddUserAddress (QuitQ_Ecom)'
2024-04-11 14:37:55.885 +05:30 [INF] Route matched with {action = "AddUserAddress", controller = "UserAddress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserAddress(QuitQ_Ecom.DTOs.UserAddressDTO) on controller QuitQ_Ecom.Controllers.UserAddressController (QuitQ_Ecom).
2024-04-11 14:37:55.972 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 14:37:57.016 +05:30 [INF] Executed DbCommand (515ms) [Parameters=[@p0='?' (Size = 30) (DbType = AnsiString), @p1='?' (DbType = Int32), @p2='?' (Size = 30) (DbType = AnsiString), @p3='?' (Size = 30) (DbType = AnsiString), @p4='?' (Size = 100) (DbType = AnsiString), @p5='?' (Size = 50) (DbType = AnsiString), @p6='?' (DbType = Int32), @p7='?' (Size = 100) (DbType = AnsiString), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserAddresses] ([ApartmentName], [CityId], [ContactNumber], [DoorNumber], [Landmark], [PostalCode], [StatusId], [Street], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [UserAddressID]
FROM [UserAddresses]
WHERE @@ROWCOUNT = 1 AND [UserAddressID] = scope_identity();
2024-04-11 14:37:57.239 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'QuitQ_Ecom.DTOs.UserAddressDTO'.
2024-04-11 14:37:57.337 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.UserAddressController.AddUserAddress (QuitQ_Ecom) in 1448.0804ms
2024-04-11 14:37:57.344 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.UserAddressController.AddUserAddress (QuitQ_Ecom)'
2024-04-11 14:37:57.361 +05:30 [INF] HTTP POST /api/user-addresses responded 201 in 1755.4291 ms
2024-04-11 14:37:57.368 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7036/api/user-addresses application/json 234 - 201 - application/json;+charset=utf-8 1773.6901ms
2024-04-11 14:47:48.171 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/swagger/index.html - -
2024-04-11 14:47:48.224 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/swagger/index.html - - - 200 - text/html;charset=utf-8 53.3176ms
2024-04-11 14:47:48.256 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - -
2024-04-11 14:47:48.257 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 1.1230ms
2024-04-11 14:47:48.258 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/_vs/browserLink - -
2024-04-11 14:47:48.289 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.0546ms
2024-04-11 14:47:48.442 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - -
2024-04-11 14:47:48.489 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 46.7440ms
2024-04-11 14:50:04.165 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7036/register application/json 264
2024-04-11 14:50:04.174 +05:30 [INF] CORS policy execution successful.
2024-04-11 14:50:04.185 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.UsersController.Register (QuitQ_Ecom)'
2024-04-11 14:50:04.189 +05:30 [INF] Route matched with {action = "Register", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(QuitQ_Ecom.DTOs.UserDTO) on controller QuitQ_Ecom.Controllers.UsersController (QuitQ_Ecom).
2024-04-11 14:50:04.264 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 14:50:04.373 +05:30 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?' (Size = 30) (DbType = AnsiString), @p1='?' (DbType = Date), @p2='?' (Size = 200) (DbType = AnsiString), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = Int32), @p5='?' (Size = 100) (DbType = AnsiString), @p6='?' (Size = 8000) (DbType = AnsiString), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([ContactNumber], [Dob], [Email], [FirstName], [GenderId], [LastName], [Password], [UserStatusId], [UserTypeId], [Username])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [UserId]
FROM [Users]
WHERE @@ROWCOUNT = 1 AND [UserId] = scope_identity();
2024-04-11 14:50:04.385 +05:30 [INF] Executing OkObjectResult, writing value of type 'QuitQ_Ecom.DTOs.UserDTO'.
2024-04-11 14:50:04.401 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.UsersController.Register (QuitQ_Ecom) in 211.1869ms
2024-04-11 14:50:04.402 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.UsersController.Register (QuitQ_Ecom)'
2024-04-11 14:50:04.403 +05:30 [INF] HTTP POST /register responded 200 in 229.8421 ms
2024-04-11 14:50:04.405 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7036/register application/json 264 - 200 - application/json;+charset=utf-8 239.6059ms
2024-04-11 14:50:40.446 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7036/api/token/login application/json 50
2024-04-11 14:50:40.484 +05:30 [INF] CORS policy execution successful.
2024-04-11 14:50:40.488 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.TokenController.Post (QuitQ_Ecom)'
2024-04-11 14:50:40.489 +05:30 [INF] Route matched with {action = "Post", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(QuitQ_Ecom.DTOs.LoginDTO) on controller QuitQ_Ecom.Controllers.TokenController (QuitQ_Ecom).
2024-04-11 14:50:40.499 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 14:50:40.514 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__8__locals1_username_0='?' (Size = 100) (DbType = AnsiString), @__hashedpassword_1='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[ContactNumber], [u].[Dob], [u].[Email], [u].[FirstName], [u].[GenderId], [u].[LastName], [u].[Password], [u].[UserStatusId], [u].[UserTypeId], [u].[Username]
FROM [Users] AS [u]
WHERE ([u].[Username] = @__8__locals1_username_0) AND ([u].[Password] = @__hashedpassword_1)
2024-04-11 14:50:40.517 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__UsertypeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserType]
FROM [UserType] AS [u]
WHERE [u].[UserTypeId] = @__UsertypeId_0
2024-04-11 14:50:40.519 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-04-11 14:50:40.520 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.TokenController.Post (QuitQ_Ecom) in 29.6718ms
2024-04-11 14:50:40.521 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.TokenController.Post (QuitQ_Ecom)'
2024-04-11 14:50:40.521 +05:30 [INF] HTTP POST /api/token/login responded 200 in 37.0468 ms
2024-04-11 14:50:40.523 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7036/api/token/login application/json 50 - 200 - text/plain;+charset=utf-8 77.0210ms
2024-04-11 14:51:14.175 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/products/search?query=t - -
2024-04-11 14:51:14.182 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.ProductsController.SearchProducts (QuitQ_Ecom)'
2024-04-11 14:51:14.189 +05:30 [INF] Route matched with {action = "SearchProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchProducts(System.String) on controller QuitQ_Ecom.Controllers.ProductsController (QuitQ_Ecom).
2024-04-11 14:51:14.208 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 14:51:14.321 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__Format_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Price], [p].[ProductImage], [p].[ProductName], [p].[ProductStatusId], [p].[Quantity], [p].[StoreId], [p].[SubCategoryId]
FROM [Products] AS [p]
WHERE [p].[ProductName] LIKE @__Format_1
2024-04-11 14:51:14.386 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuitQ_Ecom.DTOs.ProductDTO, QuitQ_Ecom, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-11 14:51:14.396 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.ProductsController.SearchProducts (QuitQ_Ecom) in 205.1666ms
2024-04-11 14:51:14.397 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.ProductsController.SearchProducts (QuitQ_Ecom)'
2024-04-11 14:51:14.397 +05:30 [INF] HTTP GET /api/products/search responded 200 in 216.4335 ms
2024-04-11 14:51:14.400 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/products/search?query=t - - - 200 - application/json;+charset=utf-8 224.2695ms
2024-04-11 14:51:59.545 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7036/api/cart/add application/json 67
2024-04-11 14:51:59.552 +05:30 [INF] CORS policy execution successful.
2024-04-11 14:51:59.570 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.CartController.AddProductToCart (QuitQ_Ecom)'
2024-04-11 14:51:59.580 +05:30 [INF] Route matched with {action = "AddProductToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddProductToCart(QuitQ_Ecom.DTOs.CartDTO) on controller QuitQ_Ecom.Controllers.CartController (QuitQ_Ecom).
2024-04-11 14:51:59.593 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 14:51:59.638 +05:30 [INF] Executed DbCommand (33ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Cart] ([ProductId], [Quantity], [UserId])
VALUES (@p0, @p1, @p2);
SELECT [CartId]
FROM [Cart]
WHERE @@ROWCOUNT = 1 AND [CartId] = scope_identity();
2024-04-11 14:51:59.645 +05:30 [INF] Executing OkObjectResult, writing value of type 'QuitQ_Ecom.DTOs.CartDTO'.
2024-04-11 14:51:59.648 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.CartController.AddProductToCart (QuitQ_Ecom) in 66.8261ms
2024-04-11 14:51:59.651 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.CartController.AddProductToCart (QuitQ_Ecom)'
2024-04-11 14:51:59.653 +05:30 [INF] HTTP POST /api/cart/add responded 200 in 100.1647 ms
2024-04-11 14:51:59.654 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7036/api/cart/add application/json 67 - 200 - application/json;+charset=utf-8 109.4073ms
2024-04-11 14:52:09.933 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/cart/7 - -
2024-04-11 14:52:09.941 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.CartController.GetUserCartItems (QuitQ_Ecom)'
2024-04-11 14:52:09.946 +05:30 [INF] Route matched with {action = "GetUserCartItems", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserCartItems(Int32) on controller QuitQ_Ecom.Controllers.CartController (QuitQ_Ecom).
2024-04-11 14:52:09.962 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 14:52:09.989 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartId], [c].[ProductId], [c].[Quantity], [c].[UserId]
FROM [Cart] AS [c]
WHERE [c].[UserId] = @__userId_0
2024-04-11 14:52:09.995 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuitQ_Ecom.DTOs.CartDTO, QuitQ_Ecom, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-11 14:52:09.997 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.CartController.GetUserCartItems (QuitQ_Ecom) in 47.8027ms
2024-04-11 14:52:09.999 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.CartController.GetUserCartItems (QuitQ_Ecom)'
2024-04-11 14:52:10.000 +05:30 [INF] HTTP GET /api/cart/7 responded 200 in 59.3680 ms
2024-04-11 14:52:10.001 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/cart/7 - - - 200 - application/json;+charset=utf-8 69.0438ms
2024-04-11 14:52:39.322 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7036/api/cart/increase-quantity/7 - 0
2024-04-11 14:52:39.326 +05:30 [INF] CORS policy execution successful.
2024-04-11 14:52:39.340 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.CartController.IncreaseProductQuantity (QuitQ_Ecom)'
2024-04-11 14:52:39.353 +05:30 [INF] Route matched with {action = "IncreaseProductQuantity", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] IncreaseProductQuantity(Int32) on controller QuitQ_Ecom.Controllers.CartController (QuitQ_Ecom).
2024-04-11 14:52:39.389 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 14:52:39.418 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartId], [c].[ProductId], [c].[Quantity], [c].[UserId]
FROM [Cart] AS [c]
WHERE [c].[CartId] = @__p_0
2024-04-11 14:52:39.442 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Cart] SET [Quantity] = @p0
WHERE [CartId] = @p1;
SELECT @@ROWCOUNT;
2024-04-11 14:52:39.446 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-04-11 14:52:39.448 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.CartController.IncreaseProductQuantity (QuitQ_Ecom) in 69.4618ms
2024-04-11 14:52:39.451 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.CartController.IncreaseProductQuantity (QuitQ_Ecom)'
2024-04-11 14:52:39.452 +05:30 [INF] HTTP POST /api/cart/increase-quantity/7 responded 200 in 125.7485 ms
2024-04-11 14:52:39.453 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7036/api/cart/increase-quantity/7 - 0 - 200 - text/plain;+charset=utf-8 131.2836ms
2024-04-11 14:52:47.576 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/cart/7 - -
2024-04-11 14:52:47.577 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.CartController.GetUserCartItems (QuitQ_Ecom)'
2024-04-11 14:52:47.578 +05:30 [INF] Route matched with {action = "GetUserCartItems", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserCartItems(Int32) on controller QuitQ_Ecom.Controllers.CartController (QuitQ_Ecom).
2024-04-11 14:52:47.583 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 14:52:47.606 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartId], [c].[ProductId], [c].[Quantity], [c].[UserId]
FROM [Cart] AS [c]
WHERE [c].[UserId] = @__userId_0
2024-04-11 14:52:47.614 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuitQ_Ecom.DTOs.CartDTO, QuitQ_Ecom, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-11 14:52:47.616 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.CartController.GetUserCartItems (QuitQ_Ecom) in 34.488ms
2024-04-11 14:52:47.617 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.CartController.GetUserCartItems (QuitQ_Ecom)'
2024-04-11 14:52:47.618 +05:30 [INF] HTTP GET /api/cart/7 responded 200 in 42.1255 ms
2024-04-11 14:52:47.621 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/cart/7 - - - 200 - application/json;+charset=utf-8 45.1546ms
2024-04-11 14:54:27.667 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7036/api/user-addresses application/json 215
2024-04-11 14:54:27.676 +05:30 [INF] CORS policy execution successful.
2024-04-11 14:54:27.677 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.UserAddressController.AddUserAddress (QuitQ_Ecom)'
2024-04-11 14:54:27.678 +05:30 [INF] Route matched with {action = "AddUserAddress", controller = "UserAddress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUserAddress(QuitQ_Ecom.DTOs.UserAddressDTO) on controller QuitQ_Ecom.Controllers.UserAddressController (QuitQ_Ecom).
2024-04-11 14:54:27.680 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 14:54:27.692 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 30) (DbType = AnsiString), @p1='?' (DbType = Int32), @p2='?' (Size = 30) (DbType = AnsiString), @p3='?' (Size = 30) (DbType = AnsiString), @p4='?' (Size = 100) (DbType = AnsiString), @p5='?' (Size = 50) (DbType = AnsiString), @p6='?' (DbType = Int32), @p7='?' (Size = 100) (DbType = AnsiString), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserAddresses] ([ApartmentName], [CityId], [ContactNumber], [DoorNumber], [Landmark], [PostalCode], [StatusId], [Street], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [UserAddressID]
FROM [UserAddresses]
WHERE @@ROWCOUNT = 1 AND [UserAddressID] = scope_identity();
2024-04-11 14:54:27.695 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'QuitQ_Ecom.DTOs.UserAddressDTO'.
2024-04-11 14:54:27.697 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.UserAddressController.AddUserAddress (QuitQ_Ecom) in 17.4167ms
2024-04-11 14:54:27.698 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.UserAddressController.AddUserAddress (QuitQ_Ecom)'
2024-04-11 14:54:27.698 +05:30 [INF] HTTP POST /api/user-addresses responded 201 in 21.7246 ms
2024-04-11 14:54:27.700 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7036/api/user-addresses application/json 215 - 201 - application/json;+charset=utf-8 32.0815ms
2024-04-11 14:58:23.763 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - -
2024-04-11 14:58:23.767 +05:30 [INF] CORS policy execution successful.
2024-04-11 14:58:23.807 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-11 14:58:23.809 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-11 14:58:23.810 +05:30 [INF] HTTP GET /api/payments/cartitems/2 responded 401 in 43.1045 ms
2024-04-11 14:58:23.811 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - - - 401 0 - 47.7455ms
2024-04-11 14:58:23.824 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - -
2024-04-11 14:58:23.825 +05:30 [INF] CORS policy execution successful.
2024-04-11 14:58:23.827 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-11 14:58:23.828 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-11 14:58:23.830 +05:30 [INF] HTTP GET /api/payments/cartitems/2 responded 401 in 4.4067 ms
2024-04-11 14:58:23.832 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - - - 401 0 - 7.8001ms
2024-04-11 14:59:34.473 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - -
2024-04-11 14:59:34.505 +05:30 [INF] CORS policy execution successful.
2024-04-11 14:59:34.506 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-11 14:59:34.507 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-11 14:59:34.508 +05:30 [INF] HTTP GET /api/payments/cartitems/2 responded 401 in 3.2351 ms
2024-04-11 14:59:34.510 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - - - 401 0 - 36.9078ms
2024-04-11 14:59:34.513 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - -
2024-04-11 14:59:34.514 +05:30 [INF] CORS policy execution successful.
2024-04-11 14:59:34.520 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-11 14:59:34.521 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-11 14:59:34.522 +05:30 [INF] HTTP GET /api/payments/cartitems/2 responded 401 in 8.2352 ms
2024-04-11 14:59:34.524 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - - - 401 0 - 11.1579ms
2024-04-11 14:59:50.604 +05:30 [INF] Request starting HTTP/2 OPTIONS https://localhost:7036/api/checkout/create-order - -
2024-04-11 14:59:50.605 +05:30 [INF] CORS policy execution successful.
2024-04-11 14:59:50.612 +05:30 [INF] HTTP OPTIONS /api/checkout/create-order responded 204 in 7.5656 ms
2024-04-11 14:59:50.617 +05:30 [INF] Request finished HTTP/2 OPTIONS https://localhost:7036/api/checkout/create-order - - - 204 - - 13.4119ms
2024-04-11 14:59:50.624 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7036/api/checkout/create-order application/json 42
2024-04-11 14:59:50.629 +05:30 [INF] CORS policy execution successful.
2024-04-11 14:59:50.652 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06-04-2024 09:40:32', Current time (UTC): '11-04-2024 09:29:50'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-04-11 14:59:51.160 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '06-04-2024 09:40:32', Current time (UTC): '11-04-2024 09:29:50'.
2024-04-11 14:59:51.161 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-11 14:59:51.168 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-11 14:59:51.169 +05:30 [INF] HTTP POST /api/checkout/create-order responded 401 in 539.4581 ms
2024-04-11 14:59:51.170 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7036/api/checkout/create-order application/json 42 - 401 0 - 545.9697ms
2024-04-11 15:00:08.389 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - -
2024-04-11 15:00:08.393 +05:30 [INF] CORS policy execution successful.
2024-04-11 15:00:08.394 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-11 15:00:08.395 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-11 15:00:08.410 +05:30 [INF] HTTP GET /api/payments/cartitems/2 responded 401 in 17.9227 ms
2024-04-11 15:00:08.413 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - - - 401 0 - 23.9176ms
2024-04-11 15:00:08.443 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - -
2024-04-11 15:00:08.444 +05:30 [INF] CORS policy execution successful.
2024-04-11 15:00:08.444 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-11 15:00:08.445 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-11 15:00:08.446 +05:30 [INF] HTTP GET /api/payments/cartitems/2 responded 401 in 2.3061 ms
2024-04-11 15:00:08.448 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - - - 401 0 - 5.2249ms
2024-04-11 15:00:22.240 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - -
2024-04-11 15:00:22.245 +05:30 [INF] CORS policy execution successful.
2024-04-11 15:00:22.247 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-11 15:00:22.249 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-11 15:00:22.250 +05:30 [INF] HTTP GET /api/payments/cartitems/2 responded 401 in 5.1924 ms
2024-04-11 15:00:22.253 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - - - 401 0 - 12.7983ms
2024-04-11 15:00:26.971 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - -
2024-04-11 15:00:26.993 +05:30 [INF] CORS policy execution successful.
2024-04-11 15:00:26.997 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-11 15:00:27.007 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-11 15:00:27.011 +05:30 [INF] HTTP GET /api/payments/cartitems/2 responded 401 in 17.6589 ms
2024-04-11 15:00:27.012 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - - - 401 0 - 40.7664ms
2024-04-11 15:00:27.018 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - -
2024-04-11 15:00:27.022 +05:30 [INF] CORS policy execution successful.
2024-04-11 15:00:27.024 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-11 15:00:27.026 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-11 15:00:27.027 +05:30 [INF] HTTP GET /api/payments/cartitems/2 responded 401 in 5.3108 ms
2024-04-11 15:00:27.029 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/payments/cartitems/2 - - - 401 0 - 11.3157ms
2024-04-11 15:00:53.333 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/payments/cartitems/7 - -
2024-04-11 15:00:53.340 +05:30 [INF] CORS policy execution successful.
2024-04-11 15:00:53.342 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-11 15:00:53.342 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-11 15:00:53.343 +05:30 [INF] HTTP GET /api/payments/cartitems/7 responded 401 in 3.0110 ms
2024-04-11 15:00:53.345 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/payments/cartitems/7 - - - 401 0 - 12.3956ms
2024-04-11 15:02:38.395 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/payments/cartitems/7 - -
2024-04-11 15:02:38.463 +05:30 [INF] CORS policy execution successful.
2024-04-11 15:02:38.465 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-11 15:02:38.466 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-11 15:02:38.467 +05:30 [INF] HTTP GET /api/payments/cartitems/7 responded 401 in 4.1316 ms
2024-04-11 15:02:38.469 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/payments/cartitems/7 - - - 401 0 - 74.8972ms
2024-04-11 15:02:38.511 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/payments/cartitems/7 - -
2024-04-11 15:02:38.512 +05:30 [INF] CORS policy execution successful.
2024-04-11 15:02:38.513 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-11 15:02:38.515 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-11 15:02:38.515 +05:30 [INF] HTTP GET /api/payments/cartitems/7 responded 401 in 3.1623 ms
2024-04-11 15:02:38.517 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/payments/cartitems/7 - - - 401 0 - 5.6756ms
2024-04-11 15:03:45.273 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/payments/cartitems/7 - -
2024-04-11 15:03:45.274 +05:30 [INF] CORS policy execution successful.
2024-04-11 15:03:45.277 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-11 15:03:45.279 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-11 15:03:45.281 +05:30 [INF] HTTP GET /api/payments/cartitems/7 responded 401 in 6.8548 ms
2024-04-11 15:03:45.283 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/payments/cartitems/7 - - - 401 0 - 10.8790ms
2024-04-11 15:05:50.580 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/payments/cartitems/7 - -
2024-04-11 15:05:50.599 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11-04-2024 09:30:40', Current time (UTC): '11-04-2024 09:35:50'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-04-11 15:05:50.605 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11-04-2024 09:30:40', Current time (UTC): '11-04-2024 09:35:50'.
2024-04-11 15:05:50.607 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-11 15:05:50.608 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-11 15:05:50.608 +05:30 [INF] HTTP GET /api/payments/cartitems/7 responded 401 in 22.1925 ms
2024-04-11 15:05:50.612 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/payments/cartitems/7 - - - 401 0 - 31.7397ms
2024-04-11 15:06:09.798 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/payments/cartitems/7 - -
2024-04-11 15:06:09.800 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11-04-2024 09:30:40', Current time (UTC): '11-04-2024 09:36:09'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-04-11 15:06:09.805 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11-04-2024 09:30:40', Current time (UTC): '11-04-2024 09:36:09'.
2024-04-11 15:06:09.807 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-11 15:06:09.809 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-11 15:06:09.810 +05:30 [INF] HTTP GET /api/payments/cartitems/7 responded 401 in 10.6488 ms
2024-04-11 15:06:09.811 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/payments/cartitems/7 - - - 401 0 - 12.9371ms
2024-04-11 15:06:27.931 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/swagger/index.html - -
2024-04-11 15:06:28.027 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/swagger/index.html - - - 200 - text/html;charset=utf-8 95.8071ms
2024-04-11 15:06:28.046 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - -
2024-04-11 15:06:28.046 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/_vs/browserLink - -
2024-04-11 15:06:28.053 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 7.0316ms
2024-04-11 15:06:28.070 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 23.5193ms
2024-04-11 15:06:28.207 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - -
2024-04-11 15:06:28.293 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 86.0816ms
2024-04-11 15:06:57.096 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7036/api/token/login application/json 50
2024-04-11 15:06:57.117 +05:30 [INF] CORS policy execution successful.
2024-04-11 15:06:57.121 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.TokenController.Post (QuitQ_Ecom)'
2024-04-11 15:06:57.123 +05:30 [INF] Route matched with {action = "Post", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(QuitQ_Ecom.DTOs.LoginDTO) on controller QuitQ_Ecom.Controllers.TokenController (QuitQ_Ecom).
2024-04-11 15:06:57.131 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 15:06:57.169 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__8__locals1_username_0='?' (Size = 100) (DbType = AnsiString), @__hashedpassword_1='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[ContactNumber], [u].[Dob], [u].[Email], [u].[FirstName], [u].[GenderId], [u].[LastName], [u].[Password], [u].[UserStatusId], [u].[UserTypeId], [u].[Username]
FROM [Users] AS [u]
WHERE ([u].[Username] = @__8__locals1_username_0) AND ([u].[Password] = @__hashedpassword_1)
2024-04-11 15:06:57.177 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__UsertypeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserType]
FROM [UserType] AS [u]
WHERE [u].[UserTypeId] = @__UsertypeId_0
2024-04-11 15:06:57.179 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-04-11 15:06:57.180 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.TokenController.Post (QuitQ_Ecom) in 56.4009ms
2024-04-11 15:06:57.182 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.TokenController.Post (QuitQ_Ecom)'
2024-04-11 15:06:57.183 +05:30 [INF] HTTP POST /api/token/login responded 200 in 65.9353 ms
2024-04-11 15:06:57.187 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7036/api/token/login application/json 50 - 200 - text/plain;+charset=utf-8 92.2722ms
2024-04-11 15:07:25.996 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/payments/cartitems/7 - -
2024-04-11 15:07:26.019 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.PaymentsController.GetAllCartItems (QuitQ_Ecom)'
2024-04-11 15:07:26.032 +05:30 [INF] Route matched with {action = "GetAllCartItems", controller = "Payments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCartItems(Int32) on controller QuitQ_Ecom.Controllers.PaymentsController (QuitQ_Ecom).
2024-04-11 15:07:26.037 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 15:07:26.113 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartId], [c].[ProductId], [c].[Quantity], [c].[UserId]
FROM [Cart] AS [c]
WHERE [c].[UserId] = @__UserId_0
2024-04-11 15:07:26.120 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuitQ_Ecom.DTOs.CartDTO, QuitQ_Ecom, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-11 15:07:26.121 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.PaymentsController.GetAllCartItems (QuitQ_Ecom) in 88.3907ms
2024-04-11 15:07:26.123 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.PaymentsController.GetAllCartItems (QuitQ_Ecom)'
2024-04-11 15:07:26.126 +05:30 [INF] HTTP GET /api/payments/cartitems/7 responded 200 in 114.7730 ms
2024-04-11 15:07:26.131 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/payments/cartitems/7 - - - 200 - application/json;+charset=utf-8 135.2955ms
2024-04-11 15:07:54.260 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/payments/cartitems/7 - -
2024-04-11 15:07:54.275 +05:30 [INF] CORS policy execution successful.
2024-04-11 15:07:54.278 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-11 15:07:54.279 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-11 15:07:54.280 +05:30 [INF] HTTP GET /api/payments/cartitems/7 responded 401 in 6.8718 ms
2024-04-11 15:07:54.286 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/payments/cartitems/7 - - - 401 0 - 25.1566ms
2024-04-11 15:08:03.770 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/payments/cartitems/7 - -
2024-04-11 15:08:03.791 +05:30 [INF] CORS policy execution successful.
2024-04-11 15:08:03.808 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-11 15:08:03.811 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-11 15:08:03.812 +05:30 [INF] HTTP GET /api/payments/cartitems/7 responded 401 in 21.1638 ms
2024-04-11 15:08:03.814 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/payments/cartitems/7 - - - 401 0 - 44.1293ms
2024-04-11 15:08:03.821 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/payments/cartitems/7 - -
2024-04-11 15:08:03.822 +05:30 [INF] CORS policy execution successful.
2024-04-11 15:08:03.823 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-11 15:08:03.824 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-11 15:08:03.825 +05:30 [INF] HTTP GET /api/payments/cartitems/7 responded 401 in 2.7833 ms
2024-04-11 15:08:03.828 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/payments/cartitems/7 - - - 401 0 - 7.8638ms
2024-04-11 15:08:31.810 +05:30 [INF] User profile is available. Using 'C:\Users\mirza\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-11 15:08:32.413 +05:30 [INF] Now listening on: https://localhost:7036
2024-04-11 15:08:32.414 +05:30 [INF] Now listening on: http://localhost:5228
2024-04-11 15:08:32.418 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2024-04-11 15:08:32.419 +05:30 [INF] Hosting environment: Development
2024-04-11 15:08:32.419 +05:30 [INF] Content root path: C:\Users\mirza\Downloads\QuitQ_Ecom_I\QuitQ_Ecom\QuitQ_Ecom\
2024-04-11 15:08:33.466 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/swagger/index.html - -
2024-04-11 15:08:33.880 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/swagger/index.html - - - 200 - text/html;charset=utf-8 417.1801ms
2024-04-11 15:08:33.885 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - -
2024-04-11 15:08:33.885 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/_vs/browserLink - -
2024-04-11 15:08:33.890 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 4.6453ms
2024-04-11 15:08:34.028 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 142.5820ms
2024-04-11 15:08:34.252 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - -
2024-04-11 15:08:34.451 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 199.1042ms
2024-04-11 15:08:41.885 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/payments/cartitems/7 - -
2024-04-11 15:08:41.899 +05:30 [INF] CORS policy execution successful.
2024-04-11 15:08:42.051 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.PaymentsController.GetAllCartItems (QuitQ_Ecom)'
2024-04-11 15:08:42.110 +05:30 [INF] Route matched with {action = "GetAllCartItems", controller = "Payments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCartItems(Int32) on controller QuitQ_Ecom.Controllers.PaymentsController (QuitQ_Ecom).
2024-04-11 15:08:43.777 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 15:08:44.831 +05:30 [INF] Executed DbCommand (88ms) [Parameters=[@__UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartId], [c].[ProductId], [c].[Quantity], [c].[UserId]
FROM [Cart] AS [c]
WHERE [c].[UserId] = @__UserId_0
2024-04-11 15:08:44.977 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuitQ_Ecom.DTOs.CartDTO, QuitQ_Ecom, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-11 15:08:45.008 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/payments/cartitems/7 - -
2024-04-11 15:08:45.024 +05:30 [INF] CORS policy execution successful.
2024-04-11 15:08:45.025 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.PaymentsController.GetAllCartItems (QuitQ_Ecom) in 2889.7741ms
2024-04-11 15:08:45.025 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.PaymentsController.GetAllCartItems (QuitQ_Ecom)'
2024-04-11 15:08:45.027 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.PaymentsController.GetAllCartItems (QuitQ_Ecom)'
2024-04-11 15:08:45.027 +05:30 [INF] Route matched with {action = "GetAllCartItems", controller = "Payments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCartItems(Int32) on controller QuitQ_Ecom.Controllers.PaymentsController (QuitQ_Ecom).
2024-04-11 15:08:45.030 +05:30 [INF] HTTP GET /api/payments/cartitems/7 responded 200 in 3134.5093 ms
2024-04-11 15:08:45.122 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 15:08:45.125 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/payments/cartitems/7 - - - 200 - application/json;+charset=utf-8 3239.4280ms
2024-04-11 15:08:45.169 +05:30 [INF] Executed DbCommand (35ms) [Parameters=[@__UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartId], [c].[ProductId], [c].[Quantity], [c].[UserId]
FROM [Cart] AS [c]
WHERE [c].[UserId] = @__UserId_0
2024-04-11 15:08:45.173 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuitQ_Ecom.DTOs.CartDTO, QuitQ_Ecom, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-11 15:08:45.174 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.PaymentsController.GetAllCartItems (QuitQ_Ecom) in 145.7027ms
2024-04-11 15:08:45.175 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.PaymentsController.GetAllCartItems (QuitQ_Ecom)'
2024-04-11 15:08:45.176 +05:30 [INF] HTTP GET /api/payments/cartitems/7 responded 200 in 151.6102 ms
2024-04-11 15:08:45.177 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/payments/cartitems/7 - - - 200 - application/json;+charset=utf-8 168.6537ms
2024-04-11 15:09:05.850 +05:30 [INF] Request starting HTTP/2 OPTIONS https://localhost:7036/api/checkout/create-order - -
2024-04-11 15:09:05.852 +05:30 [INF] CORS policy execution successful.
2024-04-11 15:09:05.854 +05:30 [INF] HTTP OPTIONS /api/checkout/create-order responded 204 in 3.3041 ms
2024-04-11 15:09:05.857 +05:30 [INF] Request finished HTTP/2 OPTIONS https://localhost:7036/api/checkout/create-order - - - 204 - - 7.0629ms
2024-04-11 15:09:05.863 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7036/api/checkout/create-order application/json 42
2024-04-11 15:09:05.864 +05:30 [INF] CORS policy execution successful.
2024-04-11 15:09:06.216 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.CheckoutController.CreateOrder (QuitQ_Ecom)'
2024-04-11 15:09:06.222 +05:30 [INF] Route matched with {action = "CreateOrder", controller = "Checkout"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CreateOrder(QuitQ_Ecom.DTOs.ra) on controller QuitQ_Ecom.Controllers.CheckoutController (QuitQ_Ecom).
2024-04-11 15:09:08.670 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`6[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-04-11 15:09:08.676 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.CheckoutController.CreateOrder (QuitQ_Ecom) in 2452.4731ms
2024-04-11 15:09:08.677 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.CheckoutController.CreateOrder (QuitQ_Ecom)'
2024-04-11 15:09:08.677 +05:30 [INF] HTTP POST /api/checkout/create-order responded 200 in 2813.0537 ms
2024-04-11 15:09:08.679 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7036/api/checkout/create-order application/json 42 - 200 - application/json;+charset=utf-8 2815.9509ms
2024-04-11 15:09:45.944 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7036/api/checkout/verify-payment/?userId=7 application/x-www-form-urlencoded 177
2024-04-11 15:09:45.980 +05:30 [INF] CORS policy execution successful.
2024-04-11 15:09:45.982 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.CheckoutController.VerifyPayment (QuitQ_Ecom)'
2024-04-11 15:09:45.998 +05:30 [INF] Route matched with {action = "VerifyPayment", controller = "Checkout"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyPayment() on controller QuitQ_Ecom.Controllers.CheckoutController (QuitQ_Ecom).
2024-04-11 15:09:46.141 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 15:09:46.167 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__USerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartId], [c].[ProductId], [c].[Quantity], [c].[UserId]
FROM [Cart] AS [c]
WHERE [c].[UserId] = @__USerId_0
2024-04-11 15:09:46.392 +05:30 [INF] Executed DbCommand (59ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Price], [p].[ProductImage], [p].[ProductName], [p].[ProductStatusId], [p].[Quantity], [p].[StoreId], [p].[SubCategoryId]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__p_0
2024-04-11 15:09:46.567 +05:30 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserAddressID], [u].[ApartmentName], [u].[CityId], [u].[ContactNumber], [u].[DoorNumber], [u].[Landmark], [u].[PostalCode], [u].[StatusId], [u].[Street], [u].[UserId]
FROM [UserAddresses] AS [u]
WHERE ([u].[UserId] = @__userId_0) AND ([u].[StatusId] = 1)
2024-04-11 15:09:46.601 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__cartitem_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Price], [p].[ProductImage], [p].[ProductName], [p].[ProductStatusId], [p].[Quantity], [p].[StoreId], [p].[SubCategoryId]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__cartitem_ProductId_0
2024-04-11 15:09:46.921 +05:30 [INF] Executed DbCommand (48ms) [Parameters=[@p0='?' (DbType = Date), @p1='?' (Size = 50) (DbType = AnsiString), @p2='?' (Size = 500) (DbType = AnsiString), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Orders] ([OrderDate], [OrderStatus], [ShippingAddress], [TotalAmount], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [OrderId]
FROM [Orders]
WHERE @@ROWCOUNT = 1 AND [OrderId] = scope_identity();
2024-04-11 15:09:47.049 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Shippers] ([OrderId], [ShipperName])
VALUES (@p0, @p1);
SELECT [ShipperId]
FROM [Shippers]
WHERE @@ROWCOUNT = 1 AND [ShipperId] = scope_identity();
2024-04-11 15:09:47.103 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = Date), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (Size = 100) (DbType = AnsiString), @p5='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Payments] ([Amount], [OrderId], [PaymentDate], [PaymentMethod], [PaymentStatus], [TransactionId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [PaymentId]
FROM [Payments]
WHERE @@ROWCOUNT = 1 AND [PaymentId] = scope_identity();
2024-04-11 15:09:47.212 +05:30 [INF] Executed DbCommand (79ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Size = 8000) (DbType = AnsiString), @p4='?' (Size = 100) (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Products] SET [BrandId] = @p0, [CategoryId] = @p1, [Price] = @p2, [ProductImage] = @p3, [ProductName] = @p4, [ProductStatusId] = @p5, [Quantity] = @p6, [StoreId] = @p7, [SubCategoryId] = @p8
WHERE [ProductId] = @p9;
SELECT @@ROWCOUNT;
2024-04-11 15:09:47.253 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([OrderId], [ProductId], [Quantity])
VALUES (@p0, @p1, @p2);
SELECT [OrderItemId]
FROM [OrderItems]
WHERE @@ROWCOUNT = 1 AND [OrderItemId] = scope_identity();
2024-04-11 15:09:47.270 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartId], [c].[ProductId], [c].[Quantity], [c].[UserId]
FROM [Cart] AS [c]
WHERE [c].[UserId] = @__userId_0
2024-04-11 15:09:47.327 +05:30 [INF] Executed DbCommand (31ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Cart]
WHERE [CartId] = @p0;
SELECT @@ROWCOUNT;
2024-04-11 15:09:47.349 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.Boolean, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-04-11 15:09:47.359 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.CheckoutController.VerifyPayment (QuitQ_Ecom) in 1355.9228ms
2024-04-11 15:09:47.361 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.CheckoutController.VerifyPayment (QuitQ_Ecom)'
2024-04-11 15:09:47.366 +05:30 [INF] HTTP POST /api/checkout/verify-payment/ responded 200 in 1386.2638 ms
2024-04-11 15:09:47.373 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7036/api/checkout/verify-payment/?userId=7 application/x-www-form-urlencoded 177 - 200 - application/json;+charset=utf-8 1428.6028ms
2024-04-11 15:09:47.430 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/favicon.ico - -
2024-04-11 15:09:47.433 +05:30 [INF] HTTP GET /favicon.ico responded 404 in 0.6188 ms
2024-04-11 15:09:47.435 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/favicon.ico - - - 404 0 - 5.2411ms
2024-04-11 15:11:55.666 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/shipment/all - -
2024-04-11 15:11:55.708 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-11 15:11:55.726 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-11 15:11:55.727 +05:30 [INF] HTTP GET /api/shipment/all responded 401 in 25.3810 ms
2024-04-11 15:11:55.730 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/shipment/all - - - 401 0 - 63.4384ms
2024-04-11 15:12:32.254 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7036/api/token/login application/json 56
2024-04-11 15:12:32.256 +05:30 [INF] CORS policy execution successful.
2024-04-11 15:12:32.257 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.TokenController.Post (QuitQ_Ecom)'
2024-04-11 15:12:32.261 +05:30 [INF] Route matched with {action = "Post", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(QuitQ_Ecom.DTOs.LoginDTO) on controller QuitQ_Ecom.Controllers.TokenController (QuitQ_Ecom).
2024-04-11 15:12:32.267 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 15:12:32.294 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__8__locals1_username_0='?' (Size = 100) (DbType = AnsiString), @__hashedpassword_1='?' (Size = 8000) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[ContactNumber], [u].[Dob], [u].[Email], [u].[FirstName], [u].[GenderId], [u].[LastName], [u].[Password], [u].[UserStatusId], [u].[UserTypeId], [u].[Username]
FROM [Users] AS [u]
WHERE ([u].[Username] = @__8__locals1_username_0) AND ([u].[Password] = @__hashedpassword_1)
2024-04-11 15:12:32.373 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[@__UsertypeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserType]
FROM [UserType] AS [u]
WHERE [u].[UserTypeId] = @__UsertypeId_0
2024-04-11 15:12:32.470 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-04-11 15:12:32.472 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.TokenController.Post (QuitQ_Ecom) in 210.1069ms
2024-04-11 15:12:32.473 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.TokenController.Post (QuitQ_Ecom)'
2024-04-11 15:12:32.474 +05:30 [INF] HTTP POST /api/token/login responded 200 in 217.9952 ms
2024-04-11 15:12:32.475 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7036/api/token/login application/json 56 - 200 - text/plain;+charset=utf-8 221.0317ms
2024-04-11 15:12:52.678 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/shipment/all - -
2024-04-11 15:12:52.698 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.ShipperController.GetAllItems (QuitQ_Ecom)'
2024-04-11 15:12:52.706 +05:30 [INF] Route matched with {action = "GetAllItems", controller = "Shipper"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllItems() on controller QuitQ_Ecom.Controllers.ShipperController (QuitQ_Ecom).
2024-04-11 15:12:52.716 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 15:12:52.732 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ShipperId], [s].[OrderId], [s].[ShipperName]
FROM [Shippers] AS [s]
2024-04-11 15:12:52.739 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuitQ_Ecom.DTOs.ShipperDTO, QuitQ_Ecom, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-11 15:12:52.743 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.ShipperController.GetAllItems (QuitQ_Ecom) in 34.3414ms
2024-04-11 15:12:52.747 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.ShipperController.GetAllItems (QuitQ_Ecom)'
2024-04-11 15:12:52.750 +05:30 [INF] HTTP GET /api/shipment/all responded 200 in 64.1960 ms
2024-04-11 15:12:52.751 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/shipment/all - - - 200 - application/json;+charset=utf-8 73.0931ms
2024-04-11 15:13:47.382 +05:30 [INF] Request starting HTTP/2 PUT https://localhost:7036/api/shipment/update-delivery-status application/json 65
2024-04-11 15:13:47.395 +05:30 [INF] CORS policy execution successful.
2024-04-11 15:13:47.396 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.ShipperController.UpdateDeliveryStatus (QuitQ_Ecom)'
2024-04-11 15:13:47.400 +05:30 [INF] Route matched with {action = "UpdateDeliveryStatus", controller = "Shipper"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDeliveryStatus(QuitQ_Ecom.DTOs.DeliverDTO) on controller QuitQ_Ecom.Controllers.ShipperController (QuitQ_Ecom).
2024-04-11 15:13:47.412 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 15:13:47.433 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[OrderId], [o].[OrderDate], [o].[OrderStatus], [o].[ShippingAddress], [o].[TotalAmount], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[OrderId] = @__p_0
2024-04-11 15:13:47.449 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Date), @p1='?' (Size = 50) (DbType = AnsiString), @p2='?' (Size = 500) (DbType = AnsiString), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Orders] SET [OrderDate] = @p0, [OrderStatus] = @p1, [ShippingAddress] = @p2, [TotalAmount] = @p3, [UserId] = @p4
WHERE [OrderId] = @p5;
SELECT @@ROWCOUNT;
2024-04-11 15:13:47.454 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2024-04-11 15:13:47.456 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.ShipperController.UpdateDeliveryStatus (QuitQ_Ecom) in 52.6053ms
2024-04-11 15:13:47.457 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.ShipperController.UpdateDeliveryStatus (QuitQ_Ecom)'
2024-04-11 15:13:47.458 +05:30 [INF] HTTP PUT /api/shipment/update-delivery-status responded 200 in 63.2914 ms
2024-04-11 15:13:47.460 +05:30 [INF] Request finished HTTP/2 PUT https://localhost:7036/api/shipment/update-delivery-status application/json 65 - 200 - application/json;+charset=utf-8 77.6670ms
2024-04-11 15:14:31.870 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7036/api/shipment/generateotp/8 - 0
2024-04-11 15:14:31.882 +05:30 [INF] CORS policy execution successful.
2024-04-11 15:14:31.890 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.ShipperController.GenerateOtp (QuitQ_Ecom)'
2024-04-11 15:14:31.894 +05:30 [INF] Route matched with {action = "GenerateOtp", controller = "Shipper"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateOtp(Int32) on controller QuitQ_Ecom.Controllers.ShipperController (QuitQ_Ecom).
2024-04-11 15:14:35.326 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 15:14:35.345 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ShipperId], [s].[OrderId], [s].[ShipperName]
FROM [Shippers] AS [s]
WHERE [s].[ShipperId] = @__p_0
2024-04-11 15:14:35.361 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Shippers] SET [OrderId] = @p0, [ShipperName] = @p1
WHERE [ShipperId] = @p2;
SELECT @@ROWCOUNT;
2024-04-11 15:14:35.374 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[OrderId], [o].[OrderDate], [o].[OrderStatus], [o].[ShippingAddress], [o].[TotalAmount], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[OrderId] = @__p_0
2024-04-11 15:14:35.396 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__orderObj_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[ContactNumber], [u].[Dob], [u].[Email], [u].[FirstName], [u].[GenderId], [u].[LastName], [u].[Password], [u].[UserStatusId], [u].[UserTypeId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__orderObj_UserId_0
2024-04-11 15:14:35.406 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2024-04-11 15:14:35.408 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.ShipperController.GenerateOtp (QuitQ_Ecom) in 3512.9133ms
2024-04-11 15:14:35.410 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.ShipperController.GenerateOtp (QuitQ_Ecom)'
2024-04-11 15:14:35.411 +05:30 [INF] HTTP POST /api/shipment/generateotp/8 responded 200 in 3529.0855 ms
2024-04-11 15:14:35.413 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7036/api/shipment/generateotp/8 - 0 - 200 - application/json;+charset=utf-8 3543.1681ms
2024-04-11 15:14:44.674 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/shipment/all - -
2024-04-11 15:14:44.676 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.ShipperController.GetAllItems (QuitQ_Ecom)'
2024-04-11 15:14:44.678 +05:30 [INF] Route matched with {action = "GetAllItems", controller = "Shipper"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllItems() on controller QuitQ_Ecom.Controllers.ShipperController (QuitQ_Ecom).
2024-04-11 15:14:44.680 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 15:14:44.691 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ShipperId], [s].[OrderId], [s].[ShipperName]
FROM [Shippers] AS [s]
2024-04-11 15:14:44.703 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuitQ_Ecom.DTOs.ShipperDTO, QuitQ_Ecom, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-11 15:14:44.706 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.ShipperController.GetAllItems (QuitQ_Ecom) in 26.9482ms
2024-04-11 15:14:44.707 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.ShipperController.GetAllItems (QuitQ_Ecom)'
2024-04-11 15:14:44.708 +05:30 [INF] HTTP GET /api/shipment/all responded 200 in 32.3797 ms
2024-04-11 15:14:44.709 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/shipment/all - - - 200 - application/json;+charset=utf-8 34.6735ms
2024-04-11 15:15:35.074 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7036/api/shipment/validateotp application/json 64
2024-04-11 15:15:35.079 +05:30 [INF] CORS policy execution successful.
2024-04-11 15:15:35.080 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.ShipperController.ValidateOtp (QuitQ_Ecom)'
2024-04-11 15:15:35.084 +05:30 [INF] Route matched with {action = "ValidateOtp", controller = "Shipper"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateOtp(QuitQ_Ecom.DTOs.ShipperDTO) on controller QuitQ_Ecom.Controllers.ShipperController (QuitQ_Ecom).
2024-04-11 15:15:35.093 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 15:15:35.107 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[ShipperId], [s].[OrderId], [s].[ShipperName]
FROM [Shippers] AS [s]
WHERE [s].[ShipperId] = @__p_0
2024-04-11 15:15:35.113 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[OrderId], [o].[OrderDate], [o].[OrderStatus], [o].[ShippingAddress], [o].[TotalAmount], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[OrderId] = @__p_0
2024-04-11 15:15:35.124 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Date), @p1='?' (Size = 50) (DbType = AnsiString), @p2='?' (Size = 500) (DbType = AnsiString), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Orders] SET [OrderDate] = @p0, [OrderStatus] = @p1, [ShippingAddress] = @p2, [TotalAmount] = @p3, [UserId] = @p4
WHERE [OrderId] = @p5;
SELECT @@ROWCOUNT;
2024-04-11 15:15:35.127 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2024-04-11 15:15:35.128 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.ShipperController.ValidateOtp (QuitQ_Ecom) in 42.0685ms
2024-04-11 15:15:35.129 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.ShipperController.ValidateOtp (QuitQ_Ecom)'
2024-04-11 15:15:35.129 +05:30 [INF] HTTP POST /api/shipment/validateotp responded 200 in 50.0703 ms
2024-04-11 15:15:35.131 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7036/api/shipment/validateotp application/json 64 - 200 - application/json;+charset=utf-8 56.5814ms
2024-04-11 15:18:32.698 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/stores - -
2024-04-11 15:18:32.717 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.StoresController.GetAllStores (QuitQ_Ecom)'
2024-04-11 15:18:32.720 +05:30 [INF] Route matched with {action = "GetAllStores", controller = "Stores"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllStores() on controller QuitQ_Ecom.Controllers.StoresController (QuitQ_Ecom).
2024-04-11 15:18:32.728 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 15:18:32.749 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StoreId], [s].[CityId], [s].[ContactNumber], [s].[Description], [s].[SellerId], [s].[StoreFullAddress], [s].[StoreLogo], [s].[StoreName]
FROM [Stores] AS [s]
2024-04-11 15:18:32.766 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuitQ_Ecom.DTOs.StoreDTO, QuitQ_Ecom, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-11 15:18:32.770 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.StoresController.GetAllStores (QuitQ_Ecom) in 47.8586ms
2024-04-11 15:18:32.772 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.StoresController.GetAllStores (QuitQ_Ecom)'
2024-04-11 15:18:32.773 +05:30 [INF] HTTP GET /api/stores responded 200 in 57.0432 ms
2024-04-11 15:18:32.775 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/stores - - - 200 - application/json;+charset=utf-8 77.8425ms
2024-04-11 15:21:47.049 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7036/api/stores multipart/form-data;+boundary=----WebKitFormBoundaryBGUBg2Bxl8tQRRZb 4306
2024-04-11 15:21:47.084 +05:30 [INF] CORS policy execution successful.
2024-04-11 15:21:47.097 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.StoresController.AddStore (QuitQ_Ecom)'
2024-04-11 15:21:47.109 +05:30 [INF] Route matched with {action = "AddStore", controller = "Stores"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStore(QuitQ_Ecom.DTOs.StoreDTO) on controller QuitQ_Ecom.Controllers.StoresController (QuitQ_Ecom).
2024-04-11 15:21:47.191 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 15:21:47.223 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 30) (DbType = AnsiString), @p2='?' (Size = 500) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (Size = 200) (DbType = AnsiString), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Stores] ([CityId], [ContactNumber], [Description], [SellerId], [StoreFullAddress], [StoreLogo], [StoreName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [StoreId]
FROM [Stores]
WHERE @@ROWCOUNT = 1 AND [StoreId] = scope_identity();
2024-04-11 15:21:47.229 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-04-11 15:21:47.230 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.StoresController.AddStore (QuitQ_Ecom) in 118.8275ms
2024-04-11 15:21:47.232 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.StoresController.AddStore (QuitQ_Ecom)'
2024-04-11 15:21:47.233 +05:30 [INF] HTTP POST /api/stores responded 200 in 148.8117 ms
2024-04-11 15:21:47.240 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7036/api/stores multipart/form-data;+boundary=----WebKitFormBoundaryBGUBg2Bxl8tQRRZb 4306 - 200 - text/plain;+charset=utf-8 192.2502ms
2024-04-11 15:21:53.079 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/stores - -
2024-04-11 15:21:53.080 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.StoresController.GetAllStores (QuitQ_Ecom)'
2024-04-11 15:21:53.082 +05:30 [INF] Route matched with {action = "GetAllStores", controller = "Stores"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllStores() on controller QuitQ_Ecom.Controllers.StoresController (QuitQ_Ecom).
2024-04-11 15:21:53.086 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 15:21:53.105 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StoreId], [s].[CityId], [s].[ContactNumber], [s].[Description], [s].[SellerId], [s].[StoreFullAddress], [s].[StoreLogo], [s].[StoreName]
FROM [Stores] AS [s]
2024-04-11 15:21:53.121 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuitQ_Ecom.DTOs.StoreDTO, QuitQ_Ecom, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-11 15:21:53.123 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.StoresController.GetAllStores (QuitQ_Ecom) in 40.1893ms
2024-04-11 15:21:53.128 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.StoresController.GetAllStores (QuitQ_Ecom)'
2024-04-11 15:21:53.131 +05:30 [INF] HTTP GET /api/stores responded 200 in 51.8005 ms
2024-04-11 15:21:53.134 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/stores - - - 200 - application/json;+charset=utf-8 55.1089ms
2024-04-11 15:23:31.175 +05:30 [INF] Request starting HTTP/2 PUT https://localhost:7036/api/stores/5 multipart/form-data;+boundary=----WebKitFormBoundaryABOYg2luAQ8Sjux2 5511
2024-04-11 15:23:31.198 +05:30 [INF] CORS policy execution successful.
2024-04-11 15:23:31.201 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.StoresController.UpdateStore (QuitQ_Ecom)'
2024-04-11 15:23:31.208 +05:30 [INF] Route matched with {action = "UpdateStore", controller = "Stores"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateStore(Int32, QuitQ_Ecom.DTOs.StoreDTO) on controller QuitQ_Ecom.Controllers.StoresController (QuitQ_Ecom).
2024-04-11 15:23:31.230 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 15:23:31.250 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StoreId], [s].[CityId], [s].[ContactNumber], [s].[Description], [s].[SellerId], [s].[StoreFullAddress], [s].[StoreLogo], [s].[StoreName]
FROM [Stores] AS [s]
WHERE [s].[StoreId] = @__p_0
2024-04-11 15:23:31.277 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 30) (DbType = AnsiString), @p2='?' (Size = 500) (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (Size = 200) (DbType = AnsiString), @p5='?' (Size = 8000) (DbType = AnsiString), @p6='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Stores] SET [CityId] = @p0, [ContactNumber] = @p1, [Description] = @p2, [SellerId] = @p3, [StoreFullAddress] = @p4, [StoreLogo] = @p5, [StoreName] = @p6
WHERE [StoreId] = @p7;
SELECT @@ROWCOUNT;
2024-04-11 15:23:31.279 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-04-11 15:23:31.280 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.StoresController.UpdateStore (QuitQ_Ecom) in 70.5394ms
2024-04-11 15:23:31.281 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.StoresController.UpdateStore (QuitQ_Ecom)'
2024-04-11 15:23:31.281 +05:30 [INF] HTTP PUT /api/stores/5 responded 200 in 83.4884 ms
2024-04-11 15:23:31.284 +05:30 [INF] Request finished HTTP/2 PUT https://localhost:7036/api/stores/5 multipart/form-data;+boundary=----WebKitFormBoundaryABOYg2luAQ8Sjux2 5511 - 200 - text/plain;+charset=utf-8 108.6109ms
2024-04-11 15:23:49.736 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/stores - -
2024-04-11 15:23:49.738 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.StoresController.GetAllStores (QuitQ_Ecom)'
2024-04-11 15:23:49.740 +05:30 [INF] Route matched with {action = "GetAllStores", controller = "Stores"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllStores() on controller QuitQ_Ecom.Controllers.StoresController (QuitQ_Ecom).
2024-04-11 15:23:49.742 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 15:23:49.745 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[StoreId], [s].[CityId], [s].[ContactNumber], [s].[Description], [s].[SellerId], [s].[StoreFullAddress], [s].[StoreLogo], [s].[StoreName]
FROM [Stores] AS [s]
2024-04-11 15:23:49.747 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuitQ_Ecom.DTOs.StoreDTO, QuitQ_Ecom, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-11 15:23:49.748 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.StoresController.GetAllStores (QuitQ_Ecom) in 6.7038ms
2024-04-11 15:23:49.749 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.StoresController.GetAllStores (QuitQ_Ecom)'
2024-04-11 15:23:49.751 +05:30 [INF] HTTP GET /api/stores responded 200 in 12.4561 ms
2024-04-11 15:23:49.755 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/stores - - - 200 - application/json;+charset=utf-8 18.5589ms
2024-04-11 15:27:08.065 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7036/api/products multipart/form-data;+boundary=----WebKitFormBoundarysa0AHguj4F2sHqd6 7604
2024-04-11 15:27:08.071 +05:30 [INF] CORS policy execution successful.
2024-04-11 15:27:08.079 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.ProductsController.AddProduct (QuitQ_Ecom)'
2024-04-11 15:27:08.086 +05:30 [INF] Route matched with {action = "AddProduct", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddProduct(QuitQ_Ecom.DTOs.ProductDTO) on controller QuitQ_Ecom.Controllers.ProductsController (QuitQ_Ecom).
2024-04-11 15:27:08.121 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 15:27:08.133 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[StoreId], [s].[CityId], [s].[ContactNumber], [s].[Description], [s].[SellerId], [s].[StoreFullAddress], [s].[StoreLogo], [s].[StoreName]
FROM [Stores] AS [s]
WHERE [s].[StoreId] = @__p_0
2024-04-11 15:27:08.143 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[ContactNumber], [u].[Dob], [u].[Email], [u].[FirstName], [u].[GenderId], [u].[LastName], [u].[Password], [u].[UserStatusId], [u].[UserTypeId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__p_0
2024-04-11 15:27:08.184 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Size = 8000) (DbType = AnsiString), @p4='?' (Size = 100) (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Products] ([BrandId], [CategoryId], [Price], [ProductImage], [ProductName], [ProductStatusId], [Quantity], [StoreId], [SubCategoryId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [ProductId]
FROM [Products]
WHERE @@ROWCOUNT = 1 AND [ProductId] = scope_identity();
2024-04-11 15:27:08.203 +05:30 [INF] Executing OkObjectResult, writing value of type 'QuitQ_Ecom.DTOs.ProductDTO'.
2024-04-11 15:27:08.217 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.ProductsController.AddProduct (QuitQ_Ecom) in 129.5609ms
2024-04-11 15:27:08.219 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.ProductsController.AddProduct (QuitQ_Ecom)'
2024-04-11 15:27:08.220 +05:30 [INF] HTTP POST /api/products responded 200 in 148.9594 ms
2024-04-11 15:27:08.222 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7036/api/products multipart/form-data;+boundary=----WebKitFormBoundarysa0AHguj4F2sHqd6 7604 - 200 - application/json;+charset=utf-8 157.3686ms
2024-04-11 15:41:09.950 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/products/search?query=HP - -
2024-04-11 15:41:09.971 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11-04-2024 09:52:32', Current time (UTC): '11-04-2024 10:11:09'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-04-11 15:41:10.338 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11-04-2024 09:52:32', Current time (UTC): '11-04-2024 10:11:09'.
2024-04-11 15:41:10.342 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.ProductsController.SearchProducts (QuitQ_Ecom)'
2024-04-11 15:41:10.360 +05:30 [INF] Route matched with {action = "SearchProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchProducts(System.String) on controller QuitQ_Ecom.Controllers.ProductsController (QuitQ_Ecom).
2024-04-11 15:41:10.383 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 15:41:10.646 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__Format_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Price], [p].[ProductImage], [p].[ProductName], [p].[ProductStatusId], [p].[Quantity], [p].[StoreId], [p].[SubCategoryId]
FROM [Products] AS [p]
WHERE [p].[ProductName] LIKE @__Format_1
2024-04-11 15:41:10.654 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuitQ_Ecom.DTOs.ProductDTO, QuitQ_Ecom, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-11 15:41:10.657 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.ProductsController.SearchProducts (QuitQ_Ecom) in 293.0598ms
2024-04-11 15:41:10.660 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.ProductsController.SearchProducts (QuitQ_Ecom)'
2024-04-11 15:41:10.662 +05:30 [INF] HTTP GET /api/products/search responded 200 in 701.7741 ms
2024-04-11 15:41:10.667 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/products/search?query=HP - - - 200 - application/json;+charset=utf-8 717.3461ms
2024-04-11 15:41:44.051 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7036/api/products/search?query=s - -
2024-04-11 15:41:44.096 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11-04-2024 09:52:32', Current time (UTC): '11-04-2024 10:11:44'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-04-11 15:41:44.107 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11-04-2024 09:52:32', Current time (UTC): '11-04-2024 10:11:44'.
2024-04-11 15:41:44.110 +05:30 [INF] Executing endpoint 'QuitQ_Ecom.Controllers.ProductsController.SearchProducts (QuitQ_Ecom)'
2024-04-11 15:41:44.114 +05:30 [INF] Route matched with {action = "SearchProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchProducts(System.String) on controller QuitQ_Ecom.Controllers.ProductsController (QuitQ_Ecom).
2024-04-11 15:41:44.122 +05:30 [INF] Entity Framework Core 6.0.28 initialized 'QuitQEcomContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.28' with options: None
2024-04-11 15:41:44.137 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__Format_1='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[BrandId], [p].[CategoryId], [p].[Price], [p].[ProductImage], [p].[ProductName], [p].[ProductStatusId], [p].[Quantity], [p].[StoreId], [p].[SubCategoryId]
FROM [Products] AS [p]
WHERE [p].[ProductName] LIKE @__Format_1
2024-04-11 15:41:44.142 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[QuitQ_Ecom.DTOs.ProductDTO, QuitQ_Ecom, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-11 15:41:44.146 +05:30 [INF] Executed action QuitQ_Ecom.Controllers.ProductsController.SearchProducts (QuitQ_Ecom) in 26.0597ms
2024-04-11 15:41:44.153 +05:30 [INF] Executed endpoint 'QuitQ_Ecom.Controllers.ProductsController.SearchProducts (QuitQ_Ecom)'
2024-04-11 15:41:44.155 +05:30 [INF] HTTP GET /api/products/search responded 200 in 78.6037 ms
2024-04-11 15:41:44.159 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7036/api/products/search?query=s - - - 200 - application/json;+charset=utf-8 108.2359ms
